{% extends 'template.html' %}
{% block source %}
    <script type="text/javascript" src="/static/bootstrap/js/bootstrap-paginator.js"></script>
    <script type="text/javascript">
        $(function () {
            var pages = {{ pages|safe }};
            $('#pageLimit').bootstrapPaginator({
                currentPage: pages.current,
                totalPages: pages.total,
                size: "normal",
                bootstrapMajorVersion: 3,
                alignment: "right",
                numberOfPages: pages.total % 20,
                itemTexts: function (type, page, current) {
                    switch (type) {
                        case "first":
                            return "首页";
                        case "prev":
                            return "上一页";
                        case "next":
                            return "下一页";
                        case "last":
                            return "末页";
                        case "page":
                            return page;
                    }
                },
                onPageClicked: function (event, originalEvent, type, page) {
                    location.href = "/p" + page;
                }
            });
        });
    </script>
{% endblock %}
{% block header %}
    <header>
        <div class="carousel slide header-content">
            <!-- 轮播（Carousel）指标 -->
            <ol class="carousel-indicators">
                <li data-target=".header-content" data-slide-to="0" class="active"></li>
                <li data-target=".header-content" data-slide-to="1"></li>
                <li data-target=".header-content" data-slide-to="2"></li>
            </ol>
            <!-- 轮播（Carousel）项目 -->
            <div class="carousel-inner">
                <div class="item active">
                    <img src="/static/images/headbg.jpg" alt="First slide">
                </div>
                <div class="item">
                    <img src="/static/images/headbg2.jpg" alt="Second slide">
                </div>
                <div class="item">
                    <img src="/static/images/headbg3.jpg" alt="Third slide">
                </div>
            </div>
            <!-- 轮播（Carousel）导航 -->
            <a class="left carousel-control" href=".header-content" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href=".header-content" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </header>
{% endblock %}
{% block block-content %}
    <div class="container wrapper-catlog">
        <div class="row">
            <ol class="breadcrumb">
                {% for foo in tabs %}
                    <li><a href="{{ foo.url }}">{{ foo.title }}</a></li>
                {% endfor %}
            </ol>
            <div class="catlog-grid">
                <div class="list-group col-md-9">
                    {% for foo in catlog %}
                        <a class="list-group-item" href="{{ foo.url }}" target="_blank">
                            <h4 class="list-group-item-heading">{{ foo.title }}
                                <small>{{ foo.comment }}</small>
                            </h4>
                            <div style="width: 100%; text-align: right">
                                <i class="fa fa-clock-o target-info" aria-hidden="true">{{ foo.date }}</i>
                            </div>
                        </a>
                    {% endfor %}
                </div>
                <div class="col-md-3 right-bar"></div>
            </div>
        </div>
        <div id="pagebar" style="text-align: center">
            <ul id="pageLimit"></ul>
        </div>
    </div>
{% endblock %}
